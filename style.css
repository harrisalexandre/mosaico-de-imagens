const carousel = document.getElementById("carousel");
let isMouseDown = false;
let startX, scrollLeft, startY, scrollTop;
const images = document.querySelectorAll(".carousel-row img");

// Função para revelar as imagens da quarta coluna
function revealImages() {
    const hiddenImages = document.querySelectorAll(".carousel-row img:nth-child(4), .carousel-row img:nth-child(8), .carousel-row img:nth-child(12)");
    hiddenImages.forEach(img => {
        img.style.display = "block";  // Exibe as imagens ocultas
    });
}

// Inicia o arraste do carrossel
carousel.addEventListener("mousedown", (e) => {
    isMouseDown = true;
    startX = e.pageX - carousel.offsetLeft;
    startY = e.pageY - carousel.offsetTop;
    scrollLeft = carousel.scrollLeft;
    scrollTop = carousel.scrollTop;
    carousel.style.cursor = "grabbing";
    revealImages(); // Revela as imagens ocultas ao clicar ou arrastar
});

// Para o arraste do carrossel
carousel.addEventListener("mouseup", () => {
    isMouseDown = false;
    carousel.style.cursor = "grab";
});

// Durante o arraste
carousel.addEventListener("mousemove", (e) => {
    if (!isMouseDown) return;
    e.preventDefault();
    const x = e.pageX - carousel.offsetLeft;
    const y = e.pageY - carousel.offsetTop;
    const walkX = (x - startX) * 2;
    const walkY = (y - startY) * 2;
    carousel.scrollLeft = scrollLeft - walkX;
    carousel.scrollTop = scrollTop - walkY;
});

// Revela a quarta coluna (imagens ocultas) ao passar o mouse por cima
carousel.addEventListener("mouseenter", () => {
    revealImages();
});
